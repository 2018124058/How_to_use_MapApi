# 구현해야하는 기능 
## 1. 홈 화면 지도  
- 사용자 위치 주변 지도(반경 n km)  
- 사용자 위치 표시 (geolocation api)
- 공연 위치 표시 
- 즐겨찾기 공연/일반 공연 마킹 다르게 
- 날짜에 따라 마커 변경 
- 지도 위 마커를 올렸을 때 정보 표기  

## 2. 달력과 지도 연동  
- 일정 달력에서 공연 클릭 시 해당 공연 마킹과 주변 지도 띄우기 (메뉴-공연 일정, 뮤지션 개인페이지-일정)  
- 공연 장소를 지리적 좌표로 변환시켜 지도 position으로 입력해야 함 

## 3. 뮤지션 공연 등록 (input으로 주소정보 받기)  
- 공연 등록 시 주소 입력 받기  
- 입력한 주소 지도에 공연으로 표시  
    - geocoding: 주소를 지리적 좌표로 변환  
    - reverse geocoding: 좌표를 주소로 변환 

# 구현 방법  
## 즐겨찾기와 일반 공연 다르게 마킹하기  
- 사용자 model에서 일반 공연과 즐겨찾기 공연 구분, 다른 column으로  
- html script에서 일반 공연과 즐겨찾기 공연의 마킹 position을 서로 다른 배열에 등록해, 각각에 맞는 이미지를 설정한다  

## 장소 입력 받기   

## 사용자 위치  




## 공연 모델 설정 -> 지도와 연결  
### 공연 모델  
- 필요한 column  
    - 가수 이름: User  
    - 공연 소개: TextField  
    - 공연 날짜: DateField
    - 공연 시간: TimeField  
        - 지도에는 날짜 정보, 문자 알림에는 시간 정보가 필요해 편의상 시간 날짜를 각각의 필드로 분리 
    - 공연 장소의 위도, 경도 좌표: 각각 FloatField   
    - 개별 사용자의 해당 공연 가수 즐겨찾기 여부  

### 해결할 사항  
- 어떻게 html 내 form에서 위도 경도 좌표를 받을 것인가?  
    - 두 가지 입력 방법 구현 필요   
        1. 한글 주소 입력 -> reverse-geocoding을 통해 위도 경도 반환  
        2. 검색용 지도에서 특정 위치 클릭 -> 해당 좌표 위도 경도 반환 (성공!)  
            - 지도에 onclick event handeler 등록: click 위치의 위도 경도 따와서 위도 경도 form value에 넣기 
    
    - html-자바스크립트-django 연동 필요    
    - 알고리즘: html의 form에서 사용자가 작성한 주소를 자바스크립트에서 submit 전에 위도 경도를 추출해 form으로 반환하고 서버에 전송하게끔 하기  
        -  https://dololak.tistory.com/728
        -  위도 경도 값은 사용자에게 입력받는 것이 아니니 hidden type의 form으로 html에 넣기 
        - 위도 경도는 float이 아닌 String이다... https://developers.kakao.com/docs/latest/ko/local/dev-guide#address-coord-documents 

- 어떻게 model의 정보를 자바스크립트로 받아서 지도 내 공연 정보를 표기할 것인가?  





# 해결할 사항  
##  Q. django templates html 문서 내의 script 부분에서 django template 언어는 사용 불가능인가? static에 보관한 이미지를 어떻게 가져오지? 
- 이미지를 url로 바꾸어 url 주소 입력하기 
- `var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";`  
    - 이걸 쓰면 카카오가 제공하는 예쁜 즐겨찾기 마커를 쓸 수는 있다... 